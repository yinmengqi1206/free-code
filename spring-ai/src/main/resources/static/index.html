<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>spring Ai</title>
</head>
<body>
<div id="content">
    spring Ai,讲个笑话<br>
</div>
</body>
<script>
    // 在这里执行你的JavaScript代码
    let sse = new EventSource(`http://localhost:8081/api/v1/ai/generateStream`);
    sse.onopen = function (event) {
        console.log("打开sse连接");
    }
    sse.onerror = function (event) {
        console.log("请求结束");
        sse.close()
    }
    sse.onmessage = function (event) {
        //逐字吧data追加到id为content的div里
        document.getElementById("content").innerHTML += event.data;
        console.log(event.data);
    }
</script>

</html>